<%- include('../port/layout-start', { title: title }) %> 
<%- include('../port/menu') %>

<div class="container mt-5">
    <h1>Редактировать книгу: <strong><%= book.title %></strong></h1>
    <form method="POST" enctype="multipart/form-data">
        <input type="hidden" name="_id" value="<%= book._id %>" /> <!-- Скрытое поле для ID книги -->
        
        <div class="form-group">
            <label for="title">Название:</label>
            <input
                type="text"
                class="form-control"
                id="title"
                name="title"
                value="<%= book.title %>"
                required
            />
        </div>
        
        <div class="form-group">
            <label for="description">Описание:</label>
            <textarea
                class="form-control"
                id="description"
                name="description"
                required
            ><%= book.description %></textarea>
        </div>
        
        <div class="form-group">
            <label for="authors">Авторы:</label>
            <input
                type="text"
                class="form-control"
                id="authors"
                name="authors"
                value="<%= book.authors %>"
                required
            />
        </div>
        
        <div class="form-group">
            <label for="favorite">Избранная книга:</label>
            <select class="form-control" id="favorite" name="favorite">
                <option value="false" <%= book.favorite === 'false' ? 'selected' : '' %>>Нет</option>
                <option value="true" <%= book.favorite === 'true' ? 'selected' : '' %>>Да</option>
            </select>
        </div>
        
        <div class="form-group">
            <label for="fileCover">Обложка книги (файл):</label>
            <input
                type="text"
                class="form-control-file"
                id="fileCover"
                name="fileCover"
                value="<%= book.fileCover %>"
                required
            />
        </div>
        
        <div class="form-group">
            <label for="fileName">Имя файла обложки:</label>
            <input
                type="text"
                class="form-control"
                id="fileName"
                name="fileName"
                value="<%= book.fileName %>"
                required
            />
        </div>
        
        <div class="form-group">
            <label for="fileBook">Файл книги:</label>
            <input
                type="file"
                class="form-control-file"
                id="fileBook"
                name="fileBook"
            />
            <small class="form-text text-muted">Оставьте пустым, если не хотите менять файл.</small>
        </div>
        
        <button type="submit" class="btn btn-primary">Сохранить изменения</button>
    </form>
    
    <a href="/" class="btn btn-secondary mt-3">Назад к списку книг</a>
</div>

<%- include('../port/layout-end') %>
